CC=gcc
CFLAGS=-g3 -fno-stack-protector
DEPS = 
objects = stack0 stack1 stack2 stack3 stack4 stack5 stack6 stack7 format0 format1 format2 format3 format4 heap0 heap1 heap2 heap3

.PHONY: directories clean

all: directories $(objects)

$(objects): %: %.c
	@echo $(CC) -m32 $(CFLAGS) -o i686/$@ $<
	$(CC) -m32 $(CFLAGS) -o i686/$@ $<
	@echo $(CC) -m64 $(CFLAGS) -o x86_64/$@ $<
	$(CC) -m64 $(CFLAGS) -o x86_64/$@ $<

directories: 
	mkdir -p i686/ x86_64/

clean:
	rm -rf i686/ x86_64/
